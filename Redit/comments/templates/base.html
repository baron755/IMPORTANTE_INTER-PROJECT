<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Redit{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root {
            --brand: #2563eb;
            --radius: 14px;

            /* LIGHT */
            --bg: #f4f6fb;
            --card: #ffffff;
            --text: #111827;
            --muted: #4b5563;
            --border: #e5e7eb;
        }

        body.dark {
            /* DARK */
            --bg: #0b1220;
            --card: #111827;
            --text: #d1d5db;
            --muted: #9aa3b2;
            --border: #273449;
            --brand: #7aa2f7;
        }

        body {
            background: var(--bg);
            color: var(--text);
            font-family: Inter, system-ui, sans-serif;
            transition: background .25s, color .25s;
        }

        .navbar {
            background: linear-gradient(90deg, var(--brand), #1d4ed8);
        }

        .card {
            background: var(--card);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            box-shadow: 0 10px 30px rgba(0,0,0,.08);
        }

        h1, h2, h3, h4, h5 {
            color: var(--text);
            font-weight: 600;
        }

        p, li, span, label {
            color: var(--text);
        }

        .text-muted, .small-muted {
            color: var(--muted) !important;
            font-size: 0.9rem;
        }

        a {
            color: var(--brand);
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }

        .form-control {
            background: var(--card);
            color: var(--text);
            border: 1px solid var(--border);
            border-radius: 10px;
        }

        body.dark .form-control::placeholder {
            color: var(--muted);
        }

        .btn-outline-secondary {
            color: var(--text);
            border-color: var(--border);
        }

        .btn-outline-secondary:hover {
            background: var(--border);
        }

        .text-danger {
            color: #ef4444 !important;
        }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark mb-4">
    <div class="container">
        <a class="navbar-brand" href="{% url 'post_list' %}">Redit</a>

        <div class="ms-auto d-flex align-items-center gap-2">
            {% if user.is_authenticated %}
            <form method="post" action="{% url 'logout' %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-outline-light btn-sm">
                    –í–∏–π—Ç–∏
                </button>
            </form>
            {% else %}
            <a href="{% url 'login' %}" class="btn btn-outline-light btn-sm">–£–≤—ñ–π—Ç–∏</a>
            <a href="{% url 'signup' %}" class="btn btn-light btn-sm">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</a>
            {% endif %}

            <button id="themeToggle" type="button" class="btn btn-outline-light btn-sm">
                üåô
            </button>
        </div>
    </div>
</nav>

<div class="container mb-5">
    {% block content %}{% endblock %}
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById("themeToggle");
    const body = document.body;

    if (localStorage.getItem("theme") === "dark") {
        body.classList.add("dark");
        toggle.textContent = "‚òÄ";
    }

    toggle.addEventListener("click", () => {
        body.classList.toggle("dark");
        const isDark = body.classList.contains("dark");
        toggle.textContent = isDark ? "‚òÄ" : "üåô";
        localStorage.setItem("theme", isDark ? "dark" : "light");
    });
});
</script>

</body>
</html>
